{"openapi":"3.0.0","paths":{"/admin/api/v1/regions":{"post":{"operationId":"RegionController_create","summary":"Создать регион","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRegionDtoClass"}}}},"responses":{"201":{"description":"Регион успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRegionDtoClass"}}}},"400":{"description":"Неверные данные"}},"tags":["Регионы"]},"get":{"operationId":"RegionController_findAll","summary":"Получить все регионы","parameters":[],"responses":{"200":{"description":"Список регионов"},"401":{"description":"Не авторизован"}},"tags":["Регионы"],"security":[{"bearer":[]}]}},"/admin/api/v1/regions/{id}/cities":{"get":{"operationId":"RegionController_findCitiesByRegion","summary":"Получить все города региона","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Список городов региона"},"401":{"description":"Не авторизован"},"404":{"description":"Регион не найден"}},"tags":["Регионы"],"security":[{"bearer":[]}]}},"/admin/api/v1/regions/{id}":{"get":{"operationId":"RegionController_findOne","summary":"Получить регион по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Регион найден"},"401":{"description":"Не авторизован"},"404":{"description":"Регион не найден"}},"tags":["Регионы"],"security":[{"bearer":[]}]},"patch":{"operationId":"RegionController_update","summary":"Обновить регион","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRegionDtoClass"}}}},"responses":{"200":{"description":"Регион обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRegionDtoClass"}}}},"404":{"description":"Регион не найден"}},"tags":["Регионы"]},"delete":{"operationId":"RegionController_remove","summary":"Удалить регион","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Регион удален"},"401":{"description":"Не авторизован"},"404":{"description":"Регион не найден"}},"tags":["Регионы"],"security":[{"bearer":[]}]}},"/admin/api/v1/cities":{"post":{"operationId":"CityController_create","summary":"Создать город","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCityDtoClass"}}}},"responses":{"201":{"description":"Город успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCityDtoClass"}}}},"400":{"description":"Неверные данные"},"404":{"description":"Регион не найден"}},"tags":["Города"]},"get":{"operationId":"CityController_findAll","summary":"Получить все города (опционально фильтр по региону)","parameters":[{"name":"regionId","required":false,"in":"query","description":"ID региона для фильтрации","schema":{"type":"number"}}],"responses":{"200":{"description":"Список городов"},"401":{"description":"Не авторизован"}},"tags":["Города"],"security":[{"bearer":[]}]}},"/admin/api/v1/cities/{id}":{"get":{"operationId":"CityController_findOne","summary":"Получить город по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Город найден"},"401":{"description":"Не авторизован"},"404":{"description":"Город не найден"}},"tags":["Города"],"security":[{"bearer":[]}]},"patch":{"operationId":"CityController_update","summary":"Обновить город","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCityDtoClass"}}}},"responses":{"200":{"description":"Город обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCityDtoClass"}}}},"404":{"description":"Город не найден"}},"tags":["Города"]},"delete":{"operationId":"CityController_remove","summary":"Удалить город","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Город удален"},"401":{"description":"Не авторизован"},"404":{"description":"Город не найден"}},"tags":["Города"],"security":[{"bearer":[]}]}},"/admin/api/v2/cities":{"post":{"operationId":"CityController_createMany","summary":"Массовое добавление городов (v2)","parameters":[],"requestBody":{"required":true,"description":"Массив городов для добавления","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateCityDtoClass"}},"examples":{"example1":{"value":[{"name":"Ангарск","latitude":52.5444,"longitude":103.8883,"regionId":1},{"name":"Байкальск","latitude":51.5167,"longitude":104.1333,"regionId":1}]}}}}},"responses":{"201":{"description":"Города успешно созданы","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateCityDtoClass"}}}}},"400":{"description":"Неверные данные"},"404":{"description":"Один или несколько регионов не найдены"}},"tags":["Города"]}},"/admin/api/v1/users":{"post":{"operationId":"UserController_create","summary":"Создать пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDtoClass"}}}},"responses":{"201":{"description":"Пользователь успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDtoClass"}}}},"400":{"description":"Неверные данные"},"409":{"description":"Пользователь с таким email уже существует"}},"tags":["Пользователи"]},"get":{"operationId":"UserController_findAll","summary":"Получить всех пользователей","parameters":[],"responses":{"200":{"description":"Список пользователей"},"401":{"description":"Не авторизован"}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/admin/api/v1/users/change-password":{"patch":{"operationId":"UserController_changePassword","summary":"Изменить пароль (требуется авторизация)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDtoClass"}}}},"responses":{"200":{"description":"Пароль успешно изменен"},"401":{"description":"Неверный старый пароль или не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/admin/api/v1/users/{id}":{"get":{"operationId":"UserController_findOne","summary":"Получить пользователя по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Пользователь найден"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Пользователи"],"security":[{"bearer":[]}]},"patch":{"operationId":"UserController_update","summary":"Обновить пользователя (v1) - принимает объект avatarUrls","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDtoClass"}}}},"responses":{"200":{"description":"Пользователь обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDtoClass"}}}},"404":{"description":"Пользователь не найден"},"409":{"description":"Пользователь с таким email уже существует"}},"tags":["Пользователи"]},"delete":{"operationId":"UserController_remove","summary":"Удалить пользователя","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Пользователь удален"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/admin/api/v2/users/{id}":{"patch":{"operationId":"UserController_updateV2","summary":"Обновить пользователя (v2) - принимает одну ссылку на аватар","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserV2DtoClass"}}}},"responses":{"200":{"description":"Пользователь обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserV2DtoClass"}}}},"404":{"description":"Пользователь не найден"},"409":{"description":"Пользователь с таким email уже существует"}},"tags":["Пользователи"]}},"/admin/api/v1/help-types":{"post":{"operationId":"HelpTypeController_create","summary":"Создать вид помощи","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHelpTypeDtoClass"}}}},"responses":{"201":{"description":"Вид помощи успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHelpTypeDtoClass"}}}},"400":{"description":"Вид помощи с таким названием уже существует"}},"tags":["Виды помощи"],"security":[{"bearer":[]}]},"get":{"operationId":"HelpTypeController_findAll","summary":"Получить все виды помощи","parameters":[],"responses":{"200":{"description":"Список видов помощи"},"401":{"description":"Не авторизован"}},"tags":["Виды помощи"],"security":[{"bearer":[]}]}},"/admin/api/v1/help-types/{id}":{"get":{"operationId":"HelpTypeController_findOne","summary":"Получить вид помощи по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Вид помощи найден"},"401":{"description":"Не авторизован"},"404":{"description":"Вид помощи не найден"}},"tags":["Виды помощи"],"security":[{"bearer":[]}]},"patch":{"operationId":"HelpTypeController_update","summary":"Обновить вид помощи","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHelpTypeDtoClass"}}}},"responses":{"200":{"description":"Вид помощи обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHelpTypeDtoClass"}}}},"400":{"description":"Вид помощи с таким названием уже существует"},"404":{"description":"Вид помощи не найден"}},"tags":["Виды помощи"]},"delete":{"operationId":"HelpTypeController_remove","summary":"Удалить вид помощи","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Вид помощи удален"},"401":{"description":"Не авторизован"},"404":{"description":"Вид помощи не найден"}},"tags":["Виды помощи"],"security":[{"bearer":[]}]}},"/admin/api/v1/organization-types":{"post":{"operationId":"OrganizationTypeController_create","summary":"Создать тип организации","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganizationTypeDtoClass"}}}},"responses":{"201":{"description":"Тип организации успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganizationTypeDtoClass"}}}},"400":{"description":"Тип организации с таким названием уже существует"},"401":{"description":"Не авторизован"}},"tags":["Типы организаций"],"security":[{"bearer":[]}]},"get":{"operationId":"OrganizationTypeController_findAll","summary":"Получить все типы организаций","parameters":[],"responses":{"200":{"description":"Список типов организаций"},"401":{"description":"Не авторизован"}},"tags":["Типы организаций"],"security":[{"bearer":[]}]}},"/admin/api/v1/organization-types/{id}":{"get":{"operationId":"OrganizationTypeController_findOne","summary":"Получить тип организации по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Тип организации найден"},"401":{"description":"Не авторизован"},"404":{"description":"Тип организации не найден"}},"tags":["Типы организаций"],"security":[{"bearer":[]}]},"patch":{"operationId":"OrganizationTypeController_update","summary":"Обновить тип организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganizationTypeDtoClass"}}}},"responses":{"200":{"description":"Тип организации обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganizationTypeDtoClass"}}}},"400":{"description":"Тип организации с таким названием уже существует"},"401":{"description":"Не авторизован"},"404":{"description":"Тип организации не найден"}},"tags":["Типы организаций"],"security":[{"bearer":[]}]},"delete":{"operationId":"OrganizationTypeController_remove","summary":"Удалить тип организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Тип организации удален"},"401":{"description":"Не авторизован"},"404":{"description":"Тип организации не найден"}},"tags":["Типы организаций"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations":{"post":{"operationId":"OrganizationController_create","summary":"Создать организацию","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganizationDtoClass"}}}},"responses":{"201":{"description":"Организация успешно создана","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganizationDtoClass"}}}},"400":{"description":"Неверные данные"},"401":{"description":"Не авторизован"}},"tags":["Организации"],"security":[{"bearer":[]}]},"get":{"operationId":"OrganizationController_findAll","summary":"Получить все организации1","parameters":[],"responses":{"200":{"description":"Список организаций"},"401":{"description":"Не авторизован"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}":{"get":{"operationId":"OrganizationController_findOne","summary":"Получить организацию по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Организация найдена"},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]},"patch":{"operationId":"OrganizationController_update","summary":"Обновить организацию","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganizationDtoClass"}}}},"responses":{"200":{"description":"Организация обновлена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganizationDtoClass"}}}},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]},"delete":{"operationId":"OrganizationController_remove","summary":"Удалить организацию","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Организация удалена"},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/approve":{"patch":{"operationId":"OrganizationController_approveOrganization","summary":"Подтвердить организацию","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Организация успешно подтверждена"},"400":{"description":"Организация уже подтверждена"},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/disapprove":{"patch":{"operationId":"OrganizationController_disapproveOrganization","summary":"Отменить подтверждение организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Подтверждение организации успешно отменено"},"400":{"description":"Организация не подтверждена, отмена невозможна"},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/owners":{"post":{"operationId":"OrganizationController_addOwner","summary":"Добавить владельца организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOwnerDtoClass"}}}},"responses":{"201":{"description":"Владелец успешно добавлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddOwnerDtoClass"}}}},"401":{"description":"Не авторизован"},"404":{"description":"Организация или пользователь не найдены"},"409":{"description":"Пользователь уже является владельцем организации"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/owners/{userId}":{"delete":{"operationId":"OrganizationController_removeOwner","summary":"Удалить владельца организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Владелец успешно удален"},"401":{"description":"Не авторизован"},"404":{"description":"Связь не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/help-types":{"post":{"operationId":"OrganizationController_addHelpType","summary":"Добавить вид помощи организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddHelpTypeDtoClass"}}}},"responses":{"201":{"description":"Вид помощи успешно добавлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddHelpTypeDtoClass"}}}},"401":{"description":"Не авторизован"},"404":{"description":"Организация или вид помощи не найдены"},"409":{"description":"Вид помощи уже добавлен к организации"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/help-types/{helpTypeId}":{"delete":{"operationId":"OrganizationController_removeHelpType","summary":"Удалить вид помощи организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"helpTypeId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Вид помощи успешно удален"},"401":{"description":"Не авторизован"},"404":{"description":"Связь не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/gallery":{"post":{"operationId":"OrganizationController_uploadImages","summary":"Загрузить изображения в галерею организации","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"201":{"description":"Изображения успешно загружены"},"401":{"description":"Не авторизован"},"404":{"description":"Организация не найдена"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/organizations/{id}/gallery/{fileName}":{"get":{"operationId":"OrganizationController_getImage","summary":"Получить изображение из галереи организации (шлюз)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"fileName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Изображение найдено","content":{"image/*":{}}},"401":{"description":"Не авторизован"},"404":{"description":"Изображение не найдено"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v2/organizations":{"post":{"operationId":"OrganizationController_createMany","summary":"Массовое добавление организаций (v2)","parameters":[],"requestBody":{"required":true,"description":"Массив организаций для добавления. Если cityId = 0, город будет найден по адресу","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateOrganizationDtoClass"}},"examples":{"example1":{"value":[{"name":"ОО ТОС АГО \"12а микрорайон\"","cityId":0,"typeId":2,"helpTypeIds":[5,8,10],"latitude":52.5444,"longitude":103.8883,"summary":"Повышение качества жизни жителей","mission":"Благоустройство территории","description":"Описание организации","goals":["Цель 1","Цель 2"],"needs":["Нужда 1"],"address":"г. Ангарск","contacts":[{"name":"ВКонтакте","value":"https://vk.com/example"}],"gallery":["https://example.com/image.jpg"]}]}}}}},"responses":{"201":{"description":"Организации успешно созданы","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateOrganizationDtoClass"}}}}},"400":{"description":"Неверные данные"},"401":{"description":"Не авторизован"},"404":{"description":"Один или несколько городов, типов организаций или видов помощи не найдены"}},"tags":["Организации"],"security":[{"bearer":[]}]}},"/admin/api/v1/auth/login":{"post":{"operationId":"AuthController_login","summary":"Вход пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDtoClass"}}}},"responses":{"200":{"description":"Успешный вход","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDtoClass"}}}},"401":{"description":"Неверный email или пароль"}},"tags":["Авторизация"]}},"/admin/api/v1/auth/refresh":{"post":{"operationId":"AuthController_refresh","summary":"Обновить access token используя refresh token (требуется валидный refresh token в body)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDtoClass"}}}},"responses":{"200":{"description":"Токены успешно обновлены","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDtoClass"}}}},"401":{"description":"Недействительный refresh token или refresh token не предоставлен"}},"tags":["Авторизация"]}},"/admin/api/v1/auth/validate":{"post":{"operationId":"AuthController_validate","summary":"Валидация токена","parameters":[],"responses":{"200":{"description":"Токен валиден"},"400":{"description":"Доступ разрешен только администраторам"},"401":{"description":"Токен не валиден"}},"tags":["Авторизация"],"security":[{"bearer":[]}]}},"/admin/api/v1/experience/{userId}":{"patch":{"operationId":"ExperienceController_addExperience","summary":"Добавить опыт пользователю","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddExperienceDtoClass"}}}},"responses":{"200":{"description":"Опыт успешно добавлен, уровень обновлен","schema":{"type":"object","properties":{"level":{"type":"number","example":3},"experience":{"type":"number","example":300}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddExperienceDtoClass"}}}},"404":{"description":"Пользователь не найден"}},"tags":["Опыт"],"security":[{"bearer":[]}]}},"/admin/api/v1/achievements":{"post":{"operationId":"AchievementController_create","summary":"Создать достижение","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAchievementDtoClass"}}}},"responses":{"201":{"description":"Достижение успешно создано","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAchievementDtoClass"}}}},"409":{"description":"Достижение с таким названием уже существует"}},"tags":["Достижения"],"security":[{"bearer":[]}]},"get":{"operationId":"AchievementController_findAll","summary":"Получить все достижения","parameters":[],"responses":{"200":{"description":"Список достижений"},"401":{"description":"Не авторизован"}},"tags":["Достижения"],"security":[{"bearer":[]}]}},"/admin/api/v1/achievements/{id}":{"get":{"operationId":"AchievementController_findOne","summary":"Получить достижение по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Достижение найдено"},"401":{"description":"Не авторизован"},"404":{"description":"Достижение не найдено"}},"tags":["Достижения"],"security":[{"bearer":[]}]},"patch":{"operationId":"AchievementController_update","summary":"Обновить достижение","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAchievementDtoClass"}}}},"responses":{"200":{"description":"Достижение обновлено","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAchievementDtoClass"}}}},"404":{"description":"Достижение не найдено"},"409":{"description":"Достижение с таким названием уже существует"}},"tags":["Достижения"],"security":[{"bearer":[]}]},"delete":{"operationId":"AchievementController_remove","summary":"Удалить достижение","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Достижение удалено"},"401":{"description":"Не авторизован"},"404":{"description":"Достижение не найдено"}},"tags":["Достижения"],"security":[{"bearer":[]}]}},"/admin/api/v1/achievements/{id}/assign/{userId}":{"post":{"operationId":"AchievementController_assignToUser","summary":"Присвоить достижение пользователю","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"Достижение успешно присвоено пользователю"},"404":{"description":"Пользователь или достижение не найдено"},"409":{"description":"Пользователь уже получил это достижение"}},"tags":["Достижения"],"security":[{"bearer":[]}]}},"/admin/api/v1/achievements/user/{userId}":{"get":{"operationId":"AchievementController_getUserAchievements","summary":"Получить достижения пользователя","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Список достижений пользователя"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Достижения"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests":{"post":{"operationId":"QuestController_create","summary":"Создать квест","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestDtoClass"}}}},"responses":{"201":{"description":"Квест успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestDtoClass"}}}},"401":{"description":"Не авторизован"},"403":{"description":"Недостаточный уровень для создания квеста (требуется уровень 5+)"}},"tags":["Квесты"],"security":[{"bearer":[]}]},"get":{"operationId":"QuestController_findAll","summary":"Получить все квесты","parameters":[{"name":"cityId","required":false,"in":"query","description":"ID города для фильтрации","schema":{"type":"number"}},{"name":"categoryId","required":false,"in":"query","description":"ID категории для фильтрации","schema":{"type":"number"}}],"responses":{"200":{"description":"Список квестов"},"401":{"description":"Не авторизован"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/filter":{"get":{"operationId":"QuestController_filter","summary":"Получить квесты с фильтрацией по статусу, городу и категории","parameters":[{"name":"status","required":false,"in":"query","description":"Статус квеста для фильтрации","schema":{"enum":["active","archived","completed"],"type":"string"}},{"name":"cityId","required":false,"in":"query","description":"ID города для фильтрации","schema":{"type":"number"}},{"name":"categoryId","required":false,"in":"query","description":"ID категории для фильтрации","schema":{"type":"number"}}],"responses":{"200":{"description":"Список квестов с примененными фильтрами"},"401":{"description":"Не авторизован"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}":{"get":{"operationId":"QuestController_findOne","summary":"Получить квест по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Квест найден"},"401":{"description":"Не авторизован"},"404":{"description":"Квест не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]},"patch":{"operationId":"QuestController_update","summary":"Обновить квест","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestDtoClass"}}}},"responses":{"200":{"description":"Квест обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestDtoClass"}}}},"401":{"description":"Не авторизован"},"404":{"description":"Квест не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]},"delete":{"operationId":"QuestController_remove","summary":"Удалить квест (требуется авторизация)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Квест удален"},"401":{"description":"Не авторизован"},"404":{"description":"Квест не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/join/{userId}":{"post":{"operationId":"QuestController_joinQuest","summary":"Присоединиться к квесту","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"Пользователь успешно присоединился к квесту"},"400":{"description":"Квест не доступен для выполнения"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь или квест не найден"},"409":{"description":"Пользователь уже присоединился к этому квесту"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/leave/{userId}":{"post":{"operationId":"QuestController_leaveQuest","summary":"Покинуть квест","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Пользователь успешно покинул квест"},"400":{"description":"Нельзя покинуть уже завершенный квест"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь или квест не найден, либо пользователь не участвует в квесте"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/complete":{"post":{"operationId":"QuestController_completeQuest","summary":"Завершить квест","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Квест успешно завершен"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь или квест не найден"},"409":{"description":"Квест уже выполнен"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/user/{userId}":{"get":{"operationId":"QuestController_getUserQuests","summary":"Получить квесты пользователя","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Список квестов пользователя"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/available/{userId}":{"get":{"operationId":"QuestController_getAvailableQuests","summary":"Получить доступные квесты для пользователя","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Список доступных квестов"},"401":{"description":"Не авторизован"},"404":{"description":"Пользователь не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/events":{"get":{"operationId":"QuestController_streamQuestEvents","summary":"Подписаться на события квестов (Server-Sent Events)","parameters":[],"responses":{"200":{"description":"Поток событий квестов"},"401":{"description":"Не авторизован"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/events/{questId}":{"get":{"operationId":"QuestController_streamQuestEventsByQuestId","summary":"Подписаться на события конкретного квеста (Server-Sent Events)","parameters":[{"name":"questId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Поток событий для конкретного квеста"},"401":{"description":"Не авторизован"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/steps/{stepIndex}/requirement":{"patch":{"operationId":"QuestController_updateRequirementCurrentValue","summary":"Обновить currentValue требования в этапе квеста","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"stepIndex","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRequirementDtoClass"}}}},"responses":{"200":{"description":"Требование успешно обновлено"},"400":{"description":"Некорректные данные или статус квеста"},"401":{"description":"Не авторизован"},"404":{"description":"Квест или этап не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/archive":{"patch":{"operationId":"QuestController_archiveQuest","summary":"Архивировать квест","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Квест успешно архивирован"},"401":{"description":"Не авторизован"},"404":{"description":"Квест не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/quests/{id}/unarchive":{"patch":{"operationId":"QuestController_unarchiveQuest","summary":"Разархивировать квест","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Квест успешно разархивирован"},"401":{"description":"Не авторизован"},"404":{"description":"Квест не найден"}},"tags":["Квесты"],"security":[{"bearer":[]}]}},"/admin/api/v1/upload/images":{"post":{"operationId":"UploadController_uploadImages","summary":"Загрузить множество изображений на S3 хранилище","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"images":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"201":{"description":"Изображения успешно загружены","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"fileName":{"type":"string","description":"Название файла (ключ в S3)","example":"uploads/550e8400-e29b-41d4-a716-446655440000.jpg"},"url":{"type":"string","description":"Полный путь к файлу (URL)","example":"https://bucket.s3.region.amazonaws.com/uploads/550e8400-e29b-41d4-a716-446655440000.jpg"}}}}}}},"400":{"description":"Неверные данные или файлы не загружены"},"401":{"description":"Не авторизован"}},"tags":["Загрузка файлов"],"security":[{"bearer":[]}]}},"/admin/api/v1/categories":{"post":{"operationId":"CategoryController_create","summary":"Создать категорию","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDtoClass"}}}},"responses":{"201":{"description":"Категория успешно создана","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDtoClass"}}}},"400":{"description":"Категория с таким названием уже существует"}},"tags":["Категории"],"security":[{"bearer":[]}]},"get":{"operationId":"CategoryController_findAll","summary":"Получить все категории","parameters":[],"responses":{"200":{"description":"Список категорий"},"401":{"description":"Не авторизован"}},"tags":["Категории"],"security":[{"bearer":[]}]}},"/admin/api/v1/categories/{id}":{"get":{"operationId":"CategoryController_findOne","summary":"Получить категорию по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Категория найдена"},"401":{"description":"Не авторизован"},"404":{"description":"Категория не найдена"}},"tags":["Категории"],"security":[{"bearer":[]}]},"patch":{"operationId":"CategoryController_update","summary":"Обновить категорию","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDtoClass"}}}},"responses":{"200":{"description":"Категория обновлена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDtoClass"}}}},"400":{"description":"Категория с таким названием уже существует"},"404":{"description":"Категория не найдена"}},"tags":["Категории"],"security":[{"bearer":[]}]},"delete":{"operationId":"CategoryController_remove","summary":"Удалить категорию","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Категория удалена"},"401":{"description":"Не авторизован"},"404":{"description":"Категория не найдена"}},"tags":["Категории"],"security":[{"bearer":[]}]}},"/admin/api/v2/categories":{"post":{"operationId":"CategoryController_createMany","summary":"Массовое добавление категорий (v2)","parameters":[],"requestBody":{"required":true,"description":"Массив категорий для добавления","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateCategoryDtoClass"}},"examples":{"example1":{"value":[{"name":"Экология"},{"name":"Образование"}]}}}}},"responses":{"201":{"description":"Категории успешно созданы","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateCategoryDtoClass"}}}}},"400":{"description":"Неверные данные или категории с такими названиями уже существуют"}},"tags":["Категории"],"security":[{"bearer":[]}]}},"/admin/api/v1/quest-updates":{"post":{"operationId":"QuestUpdateController_create","summary":"Создать обновление квеста","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestUpdateDtoClass"}}}},"responses":{"201":{"description":"Обновление квеста успешно создано","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestUpdateDtoClass"}}}},"400":{"description":"Ошибка валидации"},"404":{"description":"Квест не найден"}},"tags":["Обновления квестов"],"security":[{"bearer":[]}]},"get":{"operationId":"QuestUpdateController_findAll","summary":"Получить все обновления квестов","parameters":[{"name":"questId","required":false,"in":"query","description":"ID квеста для фильтрации","schema":{"type":"number"}}],"responses":{"200":{"description":"Список обновлений квестов"},"401":{"description":"Не авторизован"}},"tags":["Обновления квестов"],"security":[{"bearer":[]}]}},"/admin/api/v1/quest-updates/{id}":{"get":{"operationId":"QuestUpdateController_findOne","summary":"Получить обновление квеста по ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Обновление квеста найдено"},"401":{"description":"Не авторизован"},"404":{"description":"Обновление квеста не найдено"}},"tags":["Обновления квестов"],"security":[{"bearer":[]}]},"patch":{"operationId":"QuestUpdateController_update","summary":"Обновить обновление квеста","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestUpdateDtoClass"}}}},"responses":{"200":{"description":"Обновление квеста обновлено","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuestUpdateDtoClass"}}}},"400":{"description":"Ошибка валидации"},"404":{"description":"Обновление квеста или квест не найдены"}},"tags":["Обновления квестов"],"security":[{"bearer":[]}]},"delete":{"operationId":"QuestUpdateController_remove","summary":"Удалить обновление квеста","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Обновление квеста удалено"},"401":{"description":"Не авторизован"},"404":{"description":"Обновление квеста не найдено"}},"tags":["Обновления квестов"],"security":[{"bearer":[]}]}}},"info":{"title":"Atom DBRO Admin Backend API","description":"API для админ панели Atom DBRO","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateRegionDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название региона","example":"Московская область"}},"required":["name"]},"UpdateRegionDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название региона","example":"Московская область"}}},"CreateCityDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название города","example":"Москва"},"latitude":{"type":"number","description":"Широта","example":"55.7558"},"longitude":{"type":"number","description":"Долгота","example":"37.6173"},"regionId":{"type":"number","description":"ID региона","example":1}},"required":["name","latitude","longitude","regionId"]},"UpdateCityDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название города","example":"Москва"},"latitude":{"type":"number","description":"Широта","example":"55.7558"},"longitude":{"type":"number","description":"Долгота","example":"37.6173"},"regionId":{"type":"number","description":"ID региона","example":1}}},"CreateUserDtoClass":{"type":"object","properties":{"firstName":{"type":"string","description":"Имя","example":"Иван"},"lastName":{"type":"string","description":"Фамилия","example":"Иванов"},"middleName":{"type":"string","description":"Отчество","example":"Иванович"},"email":{"type":"string","description":"Email","example":"ivan@example.com"},"password":{"type":"string","description":"Пароль","example":"password123"},"role":{"type":"string","description":"Роль пользователя","enum":["USER","ADMIN"],"example":"USER"},"organisationId":{"type":"number","description":"ID организации","example":1,"nullable":true}},"required":["firstName","lastName","email","password"]},"ChangePasswordDtoClass":{"type":"object","properties":{"oldPassword":{"type":"string","description":"Старый пароль","example":"oldPassword123"},"newPassword":{"type":"string","description":"Новый пароль","example":"newPassword123"}},"required":["oldPassword","newPassword"]},"UpdateUserV2DtoClass":{"type":"object","properties":{"firstName":{"type":"string","description":"Имя","example":"Иван"},"lastName":{"type":"string","description":"Фамилия","example":"Иванов"},"middleName":{"type":"string","description":"Отчество","example":"Иванович"},"email":{"type":"string","description":"Email","example":"ivan@example.com"},"avatarUrl":{"type":"string","description":"URL аватарки (одна ссылка). Будет преобразована в объект с ключами 4-9 и одинаковым URL","example":"https://example.com/avatar.png"},"role":{"type":"string","description":"Роль пользователя","enum":["USER","ADMIN"],"example":"USER"},"organisationId":{"type":"number","description":"ID организации","example":1,"nullable":true}}},"UpdateUserDtoClass":{"type":"object","properties":{"firstName":{"type":"string","description":"Имя","example":"Иван"},"lastName":{"type":"string","description":"Фамилия","example":"Иванов"},"middleName":{"type":"string","description":"Отчество","example":"Иванович"},"email":{"type":"string","description":"Email","example":"ivan@example.com"},"avatarUrls":{"type":"object","description":"URL аватарок. При обновлении будет преобразован в формат с ключами 4-9 и одинаковым URL","example":{"4":"https://example.com/avatar.png","5":"https://example.com/avatar.png","6":"https://example.com/avatar.png","7":"https://example.com/avatar.png","8":"https://example.com/avatar.png","9":"https://example.com/avatar.png"}},"role":{"type":"string","description":"Роль пользователя","enum":["USER","ADMIN"],"example":"USER"},"organisationId":{"type":"number","description":"ID организации","example":1,"nullable":true}}},"CreateHelpTypeDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название вида помощи","example":"Материальная помощь"}},"required":["name"]},"UpdateHelpTypeDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название вида помощи","example":"Материальная помощь"}}},"CreateOrganizationTypeDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название типа организации","example":"Благотворительный фонд"}},"required":["name"]},"UpdateOrganizationTypeDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название типа организации","example":"Благотворительный фонд"}}},"ContactDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название контакта","example":"Телефон"},"value":{"type":"string","description":"Значение контакта","example":"+7 (999) 123-45-67"}},"required":["name","value"]},"CreateOrganizationDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название организации","example":"Благотворительный фонд"},"cityId":{"type":"number","description":"ID города","example":1},"typeId":{"type":"number","description":"ID типа организации","example":1},"helpTypeIds":{"description":"ID видов помощи (уникальные значения)","example":[1,2,3],"type":"array","items":{"type":"number"}},"latitude":{"type":"number","description":"Широта (опционально, если не указана, будет взята из города)","example":"55.7558"},"longitude":{"type":"number","description":"Долгота (опционально, если не указана, будет взята из города)","example":"37.6173"},"summary":{"type":"string","description":"Краткое описание","example":"Благотворительный фонд помощи детям"},"mission":{"type":"string","description":"Миссия организации","example":"Помощь детям из малообеспеченных семей"},"description":{"type":"string","description":"Полное описание организации","example":"Наша организация занимается..."},"goals":{"description":"Цели организации","example":["Цель 1","Цель 2"],"type":"array","items":{"type":"string"}},"needs":{"description":"Потребности организации","example":["Нужда 1","Нужда 2"],"type":"array","items":{"type":"string"}},"address":{"type":"string","description":"Адрес организации","example":"г. Москва, ул. Примерная, д. 1"},"contacts":{"description":"Контакты организации","example":[{"name":"Телефон","value":"+7 (999) 123-45-67"}],"type":"array","items":{"$ref":"#/components/schemas/ContactDtoClass"}},"gallery":{"description":"Галерея изображений (URL)","example":["https://example.com/image1.jpg"],"type":"array","items":{"type":"string"}}},"required":["name","cityId","typeId","helpTypeIds"]},"UpdateOrganizationDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название организации","example":"Благотворительный фонд"},"cityId":{"type":"number","description":"ID города","example":1},"organizationTypeId":{"type":"number","description":"ID типа организации","example":1},"helpTypeIds":{"description":"ID видов помощи","example":[1,2,3],"type":"array","items":{"type":"number"}},"latitude":{"type":"number","description":"Широта","example":"55.7558"},"longitude":{"type":"number","description":"Долгота","example":"37.6173"},"summary":{"type":"string","description":"Краткое описание","example":"Благотворительный фонд помощи детям"},"mission":{"type":"string","description":"Миссия организации","example":"Помощь детям из малообеспеченных семей"},"description":{"type":"string","description":"Полное описание организации","example":"Наша организация занимается..."},"goals":{"description":"Цели организации","example":["Цель 1","Цель 2"],"type":"array","items":{"type":"string"}},"needs":{"description":"Потребности организации","example":["Нужда 1","Нужда 2"],"type":"array","items":{"type":"string"}},"address":{"type":"string","description":"Адрес организации","example":"г. Москва, ул. Примерная, д. 1"},"contacts":{"description":"Контакты организации","example":[{"name":"Телефон","value":"+7 (999) 123-45-67"}],"type":"array","items":{"$ref":"#/components/schemas/ContactDtoClass"}},"gallery":{"description":"Галерея изображений (URL)","example":["https://example.com/image1.jpg"],"type":"array","items":{"type":"string"}}}},"AddOwnerDtoClass":{"type":"object","properties":{"userId":{"type":"number","description":"ID пользователя","example":1}},"required":["userId"]},"AddHelpTypeDtoClass":{"type":"object","properties":{"helpTypeId":{"type":"number","description":"ID вида помощи","example":1}},"required":["helpTypeId"]},"LoginDtoClass":{"type":"object","properties":{"email":{"type":"string","description":"Email","example":"ivan@example.com"},"password":{"type":"string","description":"Пароль","example":"password123"}},"required":["email","password"]},"RefreshTokenDtoClass":{"type":"object","properties":{"refresh_token":{"type":"string","description":"Refresh token для обновления access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["refresh_token"]},"AddExperienceDtoClass":{"type":"object","properties":{"amount":{"type":"number","description":"Количество опыта для добавления","example":100,"minimum":1}},"required":["amount"]},"CreateAchievementDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название достижения","example":"Первая помощь"},"description":{"type":"string","description":"Описание достижения","example":"Оказать первую помощь нуждающемуся"},"icon":{"type":"string","description":"Иконка достижения","example":"medal-icon.svg"},"rarity":{"type":"string","description":"Редкость достижения","example":"common","enum":["common","epic","rare","legendary","private"]}},"required":["title","rarity"]},"UpdateAchievementDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название достижения","example":"Первая помощь"},"description":{"type":"string","description":"Описание достижения","example":"Оказать первую помощь нуждающемуся"},"icon":{"type":"string","description":"Иконка достижения","example":"medal-icon.svg"},"rarity":{"type":"string","description":"Редкость достижения","example":"common","enum":["common","epic","rare","legendary","private"]}}},"CreateAchievementForQuestDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название достижения","example":"Помощник бездомным"},"description":{"type":"string","description":"Описание достижения","example":"Помог бездомным людям"},"icon":{"type":"string","description":"Иконка достижения","example":"medal-icon.svg"}},"required":["title"]},"StepDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название этапа","example":"Собрать одежду"},"description":{"type":"string","description":"Описание этапа","example":"Собрать теплую одежду для бездомных"},"status":{"type":"string","description":"Статус этапа","example":"pending"},"progress":{"type":"number","description":"Прогресс выполнения этапа (0-100)","example":0,"minimum":0,"maximum":100},"requirement":{"type":"object","description":"Требование этапа (объект)","example":{"currentValue":0,"targetValue":10}},"deadline":{"type":"object","description":"Дедлайн этапа","example":"2024-12-31T23:59:59Z"}},"required":["title","status","progress"]},"CreateQuestDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название квеста","example":"Помощь бездомным"},"description":{"type":"string","description":"Описание квеста","example":"Оказать помощь бездомным людям в вашем городе"},"status":{"type":"string","description":"Статус квеста","example":"active","enum":["active","completed","archived"],"default":"active"},"experienceReward":{"type":"number","description":"Награда опыта за выполнение квеста","example":100,"default":0},"achievement":{"description":"Данные для создания достижения, которое будет присвоено при завершении квеста. Достижение автоматически получит rarity = \"private\" и будет привязано к квесту.","allOf":[{"$ref":"#/components/schemas/CreateAchievementForQuestDtoClass"}]},"cityId":{"type":"number","description":"ID города, в котором проходит квест","example":1},"organizationTypeId":{"type":"number","description":"ID типа организации","example":1},"latitude":{"type":"number","description":"Широта","example":55.7558},"longitude":{"type":"number","description":"Долгота","example":37.6173},"address":{"type":"string","description":"Адрес","example":"г. Москва, ул. Примерная, д. 1"},"contacts":{"description":"Контакты","example":[{"name":"Телефон","value":"+7 (999) 123-45-67"}],"type":"array","items":{"$ref":"#/components/schemas/ContactDtoClass"}},"coverImage":{"type":"string","description":"URL обложки квеста","example":"https://example.com/cover.jpg"},"gallery":{"description":"Галерея изображений квеста (максимум 10)","example":["https://example.com/image1.jpg","https://example.com/image2.jpg"],"maxItems":10,"type":"array","items":{"type":"string"}},"steps":{"description":"Этапы квеста","type":"array","items":{"$ref":"#/components/schemas/StepDtoClass"}},"categoryIds":{"description":"ID категорий, связанных с квестом","example":[1,2],"type":"array","items":{"type":"number"}}},"required":["title","status","experienceReward","cityId"]},"UpdateQuestDtoClass":{"type":"object","properties":{"title":{"type":"string","description":"Название квеста","example":"Помощь бездомным"},"description":{"type":"string","description":"Описание квеста","example":"Оказать помощь бездомным людям в вашем городе"},"status":{"type":"string","description":"Статус квеста","example":"active","enum":["active","completed","archived"]},"experienceReward":{"type":"number","description":"Награда опыта за выполнение квеста","example":100},"achievementId":{"type":"number","description":"ID достижения, которое будет присвоено при завершении квеста","example":1},"cityId":{"type":"number","description":"ID города, в котором проходит квест","example":1},"organizationTypeId":{"type":"number","description":"ID типа организации","example":1},"latitude":{"type":"number","description":"Широта","example":55.7558},"longitude":{"type":"number","description":"Долгота","example":37.6173},"address":{"type":"string","description":"Адрес","example":"г. Москва, ул. Примерная, д. 1"},"contacts":{"description":"Контакты","example":[{"name":"Телефон","value":"+7 (999) 123-45-67"}],"type":"array","items":{"$ref":"#/components/schemas/ContactDtoClass"}},"coverImage":{"type":"string","description":"URL обложки квеста","example":"https://example.com/cover.jpg"},"gallery":{"description":"Галерея изображений квеста (максимум 10)","example":["https://example.com/image1.jpg"],"maxItems":10,"type":"array","items":{"type":"string"}},"steps":{"description":"Этапы квеста","type":"array","items":{"type":"string"}},"categoryIds":{"description":"ID категорий, связанных с квестом","example":[1,2],"type":"array","items":{"type":"number"}}}},"UpdateRequirementDtoClass":{"type":"object","properties":{"currentValue":{"type":"number","description":"Новое значение currentValue","example":5,"minimum":0}},"required":["currentValue"]},"CreateCategoryDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название категории","example":"Экология"}},"required":["name"]},"UpdateCategoryDtoClass":{"type":"object","properties":{"name":{"type":"string","description":"Название категории","example":"Экология"}}},"CreateQuestUpdateDtoClass":{"type":"object","properties":{"questId":{"type":"number","description":"ID квеста","example":1},"title":{"type":"string","description":"Название обновления","example":"Прогресс по сбору одежды"},"text":{"type":"string","description":"Текст обновления","example":"Собрано 50% необходимой одежды"},"photos":{"description":"Фотографии обновления (максимум 5)","example":["https://example.com/photo1.jpg","https://example.com/photo2.jpg"],"maxItems":5,"type":"array","items":{"type":"string"}}},"required":["questId","title","text"]},"UpdateQuestUpdateDtoClass":{"type":"object","properties":{"questId":{"type":"number","description":"ID квеста","example":1},"title":{"type":"string","description":"Название обновления","example":"Прогресс по сбору одежды"},"text":{"type":"string","description":"Текст обновления","example":"Собрано 50% необходимой одежды"},"photos":{"description":"Фотографии обновления (максимум 5)","example":["https://example.com/photo1.jpg"],"maxItems":5,"type":"array","items":{"type":"string"}}}}}}}
